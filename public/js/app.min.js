/*!
 *  Kwicks: Sexy Sliding Panels for jQuery - v2.2.1
 *  http://devsmash.com/projects/kwicks
 *
 *  Copyright 2013 Jeremy Martin (jmar777)
 *  Contributors: Duke Speer (Duke3D), Guillermo Guerrero (gguerrero)
 *  Released under the MIT license
 *  http://www.opensource.org/licenses/mit-license.php
 */
!function(a){var b={init:function(b){var d={maxSize:-1,minSize:-1,spacing:5,duration:500,isVertical:!1,easing:void 0,autoResize:!0,behavior:null,delayMouseIn:0,delayMouseOut:0,selectOnClick:!0,deselectOnClick:!1,interval:2500,interactive:!0},e=a.extend(d,b);if(-1!==e.minSize&&-1!==e.maxSize)throw new Error("Kwicks options minSize and maxSize may not both be set");if(e.behavior&&"menu"!==e.behavior&&"slideshow"!==e.behavior)throw new Error("Unrecognized Kwicks behavior specified: "+e.behavior);return a.each(["minSize","maxSize","spacing"],function(a,b){var c=e[b];switch(typeof c){case"number":e[b+"Units"]="px";break;case"string":if("%"===c.slice(-1))e[b+"Units"]="%",e[b]=+c.slice(0,-1)/100;else{if("px"!==c.slice(-2))throw new Error("Invalid value for Kwicks option "+b+": "+c);e[b+"Units"]="px",e[b]=+c.slice(0,-2)}break;default:throw new Error("Invalid value for Kwicks option "+b+": "+c)}}),this.each(function(){a(this).data("kwicks",new c(this,e))})},expand:function(b,c){"object"==typeof b&&(c=b,b=void 0);var d=c&&c.delay||0;return this.each(function(){var c=a(this),e=c.data("kwicks");if(e)b="number"==typeof b?b:-1;else{if(!(e=c.parent().data("kwicks")))return;b=c.index()}var f=function(){if(b!==e.expandedIndex){var a=e.$panels,c=a[b]||null;e.$container.trigger("expand.kwicks",{index:b,expanded:c,collapsed:a.not(c).get(),oldIndex:e.expandedIndex,oldExpanded:e.getExpandedPanel(),isAnimated:e.isAnimated})}},g=e.$container.data("kwicks-timeout-id");g&&(e.$container.removeData("kwicks-timeout-id"),clearTimeout(g)),d>0?e.$container.data("kwicks-timeout-id",setTimeout(f,d)):f()})},expanded:function(){var a=this.first().data("kwicks");if(a)return a.expandedIndex},select:function(b){return this.each(function(){var c=a(this),d=c.data("kwicks");if(d)b="number"==typeof b?b:-1;else{if(!(d=c.parent().data("kwicks")))return;b=c.index()}if(b!==d.selectedIndex){var e=d.$panels,f=e[b]||null;d.$container.trigger("select.kwicks",{index:b,selected:f,unselected:e.not(f).get(),oldIndex:d.selectedIndex,oldSelected:d.getSelectedPanel()})}d.$container.kwicks("expand",b)})},selected:function(){var a=this.first().data("kwicks");if(a)return a.selectedIndex},resize:function(){return this.each(function(){var b=a(this),c=b.data("kwicks");c&&c.resize()})},destroy:function(){return this.each(function(){var b=a(this),c=b.data("kwicks");c&&c.destroy()})}};a.fn.kwicks=function(a){if(b[a])return b[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!=typeof a&&a)throw new Error("Unrecognized kwicks method: "+a);return b.init.apply(this,arguments)},a.event.special.expand={_default:function(b,c){if("kwicks"===b.namespace){var d=a(b.target).data("kwicks");d&&d.expand(c.index)}}},a.event.special.select={_default:function(b,c){if("kwicks"===b.namespace){var d=a(b.target).data("kwicks");d&&d.select(c.index)}}};var c=function(b,c){var d=this;this.opts=c,this.onDestroyHandlers=[];var e=c.isVertical?"vertical":"horizontal";this.$container=a(b),this.$panels=this.$container.children();var f=["kwicks","kwicks-"+e];a.each(f,function(a){d.$container.hasClass(a)||(d.$container.addClass(a),d.onDestroy(function(){d.$container.removeClass(a)}))}),this.selectedIndex=this.$panels.filter(".kwicks-selected").index(),this.expandedIndex=this.selectedIndex,this.primaryDimension=c.isVertical?"height":"width",this.secondaryDimension=c.isVertical?"width":"height",this.calculatePanelSizes(),this.primaryAlignment=c.isVertical?"top":"left",this.secondaryAlignment=c.isVertical?"bottom":"right",this.$timer=a({progress:0}),this.isAnimated=!1,this.offsets=this.getOffsetsForExpanded(),this.updatePanelStyles(),this.initBehavior(),this.initWindowResizeHandler(),setTimeout(function(){d.updatePanelStyles()},100)};c.prototype.calculatePanelSizes=function(){var a=this.opts,b=this.getContainerSize(!0);this.panelSpacing="%"===a.spacingUnits?b*a.spacing:a.spacing;var c=this.$panels.length,d=this.panelSpacing*(c-1),e=b-d;this.panelSize=e/c,-1===a.minSize?(this.panelMaxSize=-1===a.maxSize?5>c?2*(b/3):b/3:"%"===a.maxSizeUnits?e*a.maxSize:a.maxSize,this.panelMinSize=(e-this.panelMaxSize)/(c-1)):-1===a.maxSize&&(this.panelMinSize="%"===a.minSizeUnits?e*a.minSize:a.minSize,this.panelMaxSize=e-this.panelMinSize*(c-1))},c.prototype.getOffsetsForExpanded=function(){for(var a=this.expandedIndex,b=this.$panels.length,c=this.panelSpacing,d=this.panelSize,e=this.panelMinSize,f=this.panelMaxSize,g=[0],h=1;b>h;h++)g[h]=-1===a?h*(d+c):a>=h?h*(e+c):f+e*(h-1)+h*c;return g},c.prototype.setStyle=function(){return a.support.style?function(a,b){a.setAttribute("style",b)}:function(a,b){a.style.cssText=b}}(),c.prototype.updatePanelStyles=function(){for(var a,b,c,d,e=this.offsets,f=this.$panels,g=this.primaryDimension,h=this.primaryAlignment,i=this.secondaryAlignment,j=this.panelSpacing,k=this.getContainerSize(),l=this._stylesInited?"":"position:absolute;",m=f.length;m--;)c=a,a=Math.round(e[m]),m===f.length-1?(b=k-a,d=i+":0;"+g+":"+b+"px;"):(b=c-a-j,d=h+":"+a+"px;"+g+":"+b+"px;"),this.setStyle(f[m],l+d);this._stylesInited||(this.$container.addClass("kwicks-processed"),this._stylesInited=!0)},c.prototype.initBehavior=function(){if(this.opts.behavior)switch(this.opts.behavior){case"menu":this.initMenuBehavior();break;case"slideshow":this.initSlideshowBehavior();break;default:throw new Error("Unrecognized behavior option: "+this.opts.behavior)}},c.prototype.initMenuBehavior=function(){var b=this,c=b.opts;this.addEventHandler(this.$container,"mouseleave",function(){b.$container.kwicks("expand",-1,{delay:c.delayMouseOut})}),this.addEventHandler(this.$panels,"mouseenter",function(){a(this).kwicks("expand",{delay:c.delayMouseIn})}),(c.selectOnClick||c.deselectOnClick)&&this.addEventHandler(this.$panels,"click",function(){var b=a(this),d=b.hasClass("kwicks-selected");d&&c.deselectOnClick?b.parent().kwicks("select",-1):!d&&c.selectOnClick&&b.kwicks("select")})},c.prototype.initSlideshowBehavior=function(){var b,c=this,d=this.$panels.length,e=0,f=!1,g=function(){f||(b=setInterval(function(){c.$container.kwicks("expand",++e%d)},c.opts.interval),f=!0)},h=function(){clearInterval(b),f=!1};g(),this.onDestroy(h),this.opts.interactive&&(this.addEventHandler(this.$container,"mouseenter",h),this.addEventHandler(this.$container,"mouseleave",g),this.addEventHandler(this.$panels,"mouseenter",function(){e=a(this).kwicks("expand").index()}))},c.prototype.initWindowResizeHandler=function(){if(this.opts.autoResize){var b=this,c=0,d=!1,e=a(window),f=function(a){a||(d=!1);var e=+new Date;if(20>e-c){if(d)return;return setTimeout(f,20-(e-c)),d=!0,void 0}c=e,b.resize()};this.addEventHandler(e,"resize",f)}},c.prototype.getContainerSize=function(a){var b=this._containerSize;return(a||!b)&&(b=this._containerSize=this.$container[this.primaryDimension]()),b},c.prototype.getExpandedPanel=function(){return this.$panels[this.expandedIndex]||null},c.prototype.getCollapsedPanels=function(){return-1===this.expandedIndex?[]:this.$panels.not(this.getExpandedPanel()).get()},c.prototype.getSelectedPanel=function(){return this.$panels[this.selectedIndex]||null},c.prototype.getUnselectedPanels=function(){return this.$panels.not(this.getSelectedPanel()).get()},c.prototype.onDestroy=function(a){this.onDestroyHandlers.push(a)},c.prototype.addEventHandler=function(a,b,c){a.on(b,c),this.onDestroy(function(){a.off(b,c)})},c.prototype.destroy=function(){this.$timer.stop();for(var a=0,b=this.onDestroyHandlers.length;b>a;a++)this.onDestroyHandlers[a]();this.$panels.attr("style","").removeClass("kwicks-expanded kwicks-selected kwicks-collapsed"),this.$container.removeClass("kwicks-processed").removeData("kwicks")},c.prototype.resize=function(){this.getContainerSize()!==this.getContainerSize(!0)&&(this.calculatePanelSizes(),this.offsets=this.getOffsetsForExpanded(),this.isAnimated?this._dirtyOffsets=!0:this.updatePanelStyles())},c.prototype.select=function(b){b!==this.selectedIndex&&(a(this.getSelectedPanel()).removeClass("kwicks-selected"),this.selectedIndex=b,a(this.getSelectedPanel()).addClass("kwicks-selected"))},c.prototype.expand=function(b){var c=this,d=this.expandedIndex,e=this.getExpandedPanel();if(-1===b&&(b=this.selectedIndex),b!==this.expandedIndex){a(this.getExpandedPanel()).removeClass("kwicks-expanded"),a(this.getCollapsedPanels()).removeClass("kwicks-collapsed"),this.expandedIndex=b,a(this.getExpandedPanel()).addClass("kwicks-expanded"),a(this.getCollapsedPanels()).addClass("kwicks-collapsed");var f=this.$timer,g=this.$panels.length,h=this.offsets.slice(),i=this.offsets,j=this.getOffsetsForExpanded();f.stop()[0].progress=0,this.isAnimated=!0,f.animate({progress:1},{duration:this.opts.duration,easing:this.opts.easing,step:function(a){c._dirtyOffsets&&(i=c.offsets,j=c.getOffsetsForExpanded(),c._dirtyOffsets=!1),i.length=0;for(var b=0;g>b;b++){var d=j[b],e=d-(d-h[b])*(1-a);i[b]=e}c.updatePanelStyles()},complete:function(){c.isAnimated=!1,c.$container.trigger("expand-complete.kwicks",{index:b,expanded:c.getExpandedPanel(),collapsed:c.getCollapsedPanels(),oldIndex:d,oldExpanded:e,isAnimated:!1})}})}}}(jQuery);

/* Modernizr 2.8.3 (Custom Build) | MIT & BSD
 * Build: http://modernizr.com/download/#-touch-mq-cssclasses-teststyles-prefixes
 */
;window.Modernizr=function(a,b,c){function x(a){j.cssText=a}function y(a,b){return x(m.join(a+";")+(b||""))}function z(a,b){return typeof a===b}function A(a,b){return!!~(""+a).indexOf(b)}function B(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:z(f,"function")?f.bind(d||b):f}return!1}var d="2.8.3",e={},f=!0,g=b.documentElement,h="modernizr",i=b.createElement(h),j=i.style,k,l={}.toString,m=" -webkit- -moz- -o- -ms- ".split(" "),n={},o={},p={},q=[],r=q.slice,s,t=function(a,c,d,e){var f,i,j,k,l=b.createElement("div"),m=b.body,n=m||b.createElement("body");if(parseInt(d,10))while(d--)j=b.createElement("div"),j.id=e?e[d]:h+(d+1),l.appendChild(j);return f=["&#173;",'<style id="s',h,'">',a,"</style>"].join(""),l.id=h,(m?l:n).innerHTML+=f,n.appendChild(l),m||(n.style.background="",n.style.overflow="hidden",k=g.style.overflow,g.style.overflow="hidden",g.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),g.style.overflow=k),!!i},u=function(b){var c=a.matchMedia||a.msMatchMedia;if(c)return c(b)&&c(b).matches||!1;var d;return t("@media "+b+" { #"+h+" { position: absolute; } }",function(b){d=(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle)["position"]=="absolute"}),d},v={}.hasOwnProperty,w;!z(v,"undefined")&&!z(v.call,"undefined")?w=function(a,b){return v.call(a,b)}:w=function(a,b){return b in a&&z(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=r.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(r.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(r.call(arguments)))};return e}),n.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:t(["@media (",m.join("touch-enabled),("),h,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=a.offsetTop===9}),c};for(var C in n)w(n,C)&&(s=C.toLowerCase(),e[s]=n[C](),q.push((e[s]?"":"no-")+s));return e.addTest=function(a,b){if(typeof a=="object")for(var d in a)w(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof f!="undefined"&&f&&(g.className+=" "+(b?"":"no-")+a),e[a]=b}return e},x(""),i=k=null,e._version=d,e._prefixes=m,e.mq=u,e.testStyles=t,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+q.join(" "):""),e}(this,this.document);

/* =========================================================================
   patrick.hoopr.io JavaScript / jQuery
   ========================================================================= */

/* Variables
   ======================================================================== */
var wrapper = $('#wrapper'),
    masthead = $('#masthead'),
    mainNav = $('.main-nav'),
    letters = $('.letter-animate'),
    navAbout = $('.nav-about'),
    navPortfolio = $('.nav-portfolio'),
    lastActive = null,
    hero = $('#hero'),
    heroAnimate = $('#hero .hero-animate'),
    heroArrow = $('#hero .hero_arrow'),
    fadeHeroDiv,
    fadeHeroArrow,
    taglines = $('.tagline'), // Hide all taglines initially
    i = 0, // Counter for taglines
    learnMore = $('.learn-more'),
    about = $('#about'),
    portfolio = $('#portfolio'),
    contact = $('#contact'),
    project = $('.portfolio-page');

/* Functions
   ======================================================================== */

/**
 * Function that adds letter-collpased class and removes GSAP styles
 * from logo letters once tween is complete.
 */
function tweenLettersComplete() {
  letters.addClass('letter-collapsed').removeAttr('style');
}

/**
 * Function cycles through taglines in Hero section by fading in and out
 * taglines. Goes back to beginning once it reaches the end.
 */
function cycle() {
  taglines.eq(i).fadeIn(1000)
            .delay(1000)
            .fadeOut(1000, cycle);
  i = ++i % taglines.length;
}

/* GSAP Tweens
   ======================================================================== */

if (Modernizr.mq('(min-width: 46.0625rem)')) {

  /**
   * Tween logo letters from opacity of 1 and full width to no width and
   * opacity of 0. Start 1 seconds after page is ready.
   */
  var tweenLetters = TweenMax.to(letters, 0.6, {
    delay: 0.6,
    width: 0,
    opacity: 0,
    onComplete: tweenLettersComplete
  });

  /**
   * Tween Hero section from opacity of 1 to opacity of 0. Move top of section
   * from start location to 75% from the top of its parent over the duration
   * of the tween.
   */
  fadeHeroDiv = TweenMax.to(heroAnimate, 1, {
    opacity: 0,
    top: '75%'
  });

  /**
   * Tween Hero arrow from border properties over the duration
   * of the tween.
   */
  fadeHeroArrow = TweenMax.to(heroArrow, 0.3, {
    borderLeftWidth: 320,
    borderRightWidth: 320,
    borderTopWidth: 0,
    bottom: 0,
    marginLeft: -320
  });
}

/* ScrollMagic Scenes
   ======================================================================== */

/* ScrollMagic Controller to handle scenes */
var scrollMagicController = new ScrollMagic.Controller();

/* Scene to fade Hero section and produce parallax effect */
var heroScene = new ScrollMagic.Scene({
  triggerElement: '#hero',
  triggerHook: 'onLeave', // Start when trigger starts leaving viewport
  duration: '100%' // End when viewport has moved 100%
})
.setTween(fadeHeroDiv); // Use the fadeHeroDiv tween defined

/* Scene to smush hero arrow up into itself when scrolling */
var heroArrow = new ScrollMagic.Scene({
  triggerElement: '#hero',
  triggerHook: 'onLeave', // Start when trigger starts leaving viewport
  duration: '75%' // End when viewport has moved 75%
})
.setTween(fadeHeroArrow);

/* Waypoints
   ======================================================================== */

/* Waypoints only for the home page */
if (wrapper.hasClass('layout-default')) {

  /**
   * Toggles active class for About and also flags the header as scrolling
   */
  var aboutWaypoint = about.waypoint(function(direction) {

    /* When going down and you hit about section, do stuff */
    if (direction === 'down') {
      masthead.addClass('scroll-header'); // Add class to header for scrolling
      navAbout.addClass('active'); // Add active class to about
      navPortfolio.removeClass('active'); // Remove active class from portfolio nav
      lastActive = navAbout; // Make about nav the last active

      /* When going up and you hit About section, do stuff */
    } else {
      masthead.removeClass('scroll-header'); // Remove scrolling header class
      navAbout.removeClass('active'); // Remove active class from about
      navPortfolio.removeClass('active'); // Remove active class from portfolio
      lastActive = null; // Remove last active element
    }
  },{
    /* Make offset the header height or the nav height (small devices) */
    offset: function() {
      return Modernizr.mq('(min-width: 46.0625rem)') ? masthead.height() + 17 : mainNav.height();
    }
  });

  /**
   * Toggles active class for Portfolio and removes for About
   */
  var portfolioWaypoint = portfolio.waypoint(function(direction) {

    /* When going down and you hit Portfolio section, do stuff */
    if (direction === 'down') {
      navAbout.removeClass('active'); // Remove active class from about
      navPortfolio.addClass('active'); // Add active class to portfolio
      lastActive = navPortfolio; // Make portfolio nav the last active

      /* When going up and you hit Portfolio section, do stuff */
    } else {
      navAbout.addClass('active'); // Add active class to about
      navPortfolio.removeClass('active'); // Remove active class from portfolio
      lastActive = navAbout; // Make about the last active
    }
  },{
    /* Make offset the header height or the nav height (small devices) */
    offset: function() {
      return Modernizr.mq('(min-width: 46.0625rem)') ? masthead.height() + 17 : mainNav.height();
    }
  });

  /**
   * Toggles active class Portfolio at bottom, restores previous active on up
   */
  var contactWaypoint = contact.waypoint(function(direction) {

    /* When going down and you hit Contact section, do stuff */
    if (direction === 'down') {
      navAbout.removeClass('active'); // Remove active class from about
      navPortfolio.addClass('active'); // Add active class to portfolio

      /* When going up and you hit Contact section, do stuff */
    } else {
      navAbout.removeClass('active'); // Remove active class from about
      navPortfolio.removeClass('active'); // Remove active class from portfolio
      lastActive.addClass('active'); // Add active class to last active
    }
  }, {
    /* Offset is 100%, so when it enters into view */
    offset: '100%'
  });

  /* Waypoints for Portfolio pages */
} else {

  /**
   * Flags Portfolio page header as scrolling
   */
  var projectWaypoint = project.waypoint(function(direction) {

    /* When going down, add scrolling header class. When up, remove */
    if (direction === 'down') {
      masthead.addClass('scroll-header');
    } else {
      masthead.removeClass('scroll-header');
    }
  }, {
    /* Offset is the top margin of the portfolio page title */
    offset: parseFloat(project.find('.project_summary h2.title').css('margin-top')) * -1
  });
}

/* Scripts
   ======================================================================== */

/* Tell ScrollMagic to animate scroll over 0.5 sec rather than jump */
scrollMagicController.scrollTo(function (newpos) {
  TweenMax.to(window, 0.5, {scrollTo: {y: newpos}});
});

/* Tell ScrollMagic to listen for anchor link clicks and scroll to them */
$(document).on("click", "a[href^='#']", function (e) {
  var id = $(this).attr("href");
  if ($(id).length > 0) {
    e.preventDefault();
    scrollMagicController.scrollTo(id);
    if (window.history && window.history.pushState) {
      history.pushState("", document.title, id);
    }
  }
});

/* Lazy loads images as they're 568px outside the view */
$("img.lazy").unveil(568);

/* Do the following only if this is the home page */
if (wrapper.hasClass('layout-default')) {

  /* Do the following only if this is a large screen */
  if (Modernizr.mq('(min-width: 46.0625rem)')) {

    /* Hide all taglines to start */
    taglines.hide();

    /* Start cycling through taglines 1 seconds after page ready */
    setTimeout(cycle, 500);

    /* Bring Learn More button to full opacity 8 seconds after page ready */
    setTimeout(function() {
      learnMore.animate({opacity: 1}, 3000);
    }, 5000);

    /* Add hero scenes to controller */
    scrollMagicController.addScene([heroScene, heroArrow]);
  }

  /* Initialize kwicks */
  $('.kwicks-vertical').kwicks({
    behavior: 'menu',
    duration: 300,
    maxSize: '85%',
    isVertical: true,
    selectOnClick: false,
    spacing: 0
  });

  /* Do the following only if this is not a touch device */
  if (!Modernizr.touch) {

    /* Slides up/down project logo overlay when it's hovered over on non-touch devices */
    $('.project').hover(function() {
      $(this).find('.project_overlay').css('max-height', $(this).height()).slideToggle(300);
    });
  }
}

//# sourceMappingURL=app.min.js.map
